<Window x:Class="FileEncrypter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="FileEncrypter"
        Width="500" Height="600"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource SurfaceBrush}"
        AllowDrop="True"
        DragEnter="Window_DragEnter"
        DragOver="Window_DragOver"
        DragLeave="Window_DragLeave"
        Drop="Window_Drop">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24">
        <StackPanel MaxWidth="450">
            <!-- Header -->
            <TextBlock 
                Text="🔐 FileEncrypter" 
                Style="{StaticResource HeaderText}"/>

            <!-- Password Card -->
            <Border Style="{StaticResource Card}">
                <StackPanel Style="{StaticResource InputContainer}">
                    <TextBlock 
                        Text="🔑 Contraseña" 
                        Style="{StaticResource SectionTitle}"/>
                    <PasswordBox 
                        x:Name="PasswordInput" 
                        Style="{StaticResource ModernPasswordBox}"
                        ToolTip="Ingrese una contraseña segura"/>
                </StackPanel>
            </Border>

            <!-- Actions Card -->
            <Border Style="{StaticResource Card}">
                <StackPanel>
                    <TextBlock 
                        Text="⚡ Acciones" 
                        Style="{StaticResource SectionTitle}"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Botones principales -->
                        <Button 
                            Grid.Column="0"
                            Content="🔒 Encriptar" 
                            Style="{StaticResource AccentButton}"
                            Click="EncryptFile_Click"
                            Margin="0,0,6,12"/>
                        <Button 
                            Grid.Column="1"
                            Content="🔓 Desencriptar" 
                            Style="{StaticResource AccentButton}"
                            Click="DecryptFile_Click"
                            Margin="6,0,0,12"/>

                        <!-- Botón cancelar -->
                        <Button 
                            Grid.Row="1"
                            Grid.ColumnSpan="2"
                            x:Name="CancelButton" 
                            Content="❌ Cancelar" 
                            Style="{StaticResource FlatButton}"
                            Click="CancelButton_Click" 
                            IsEnabled="False"
                            Margin="0"/>
                    </Grid>

                    <!-- Progress Section -->
                    <StackPanel x:Name="ProgressSection" Visibility="Collapsed" Margin="0,16,0,0">
                        <TextBlock 
                            Text="📊 Progreso" 
                            Style="{StaticResource SectionTitle}"
                            Margin="0,0,0,8"/>
                        <ProgressBar 
                            x:Name="ProgressBar" 
                            Style="{StaticResource ModernProgressBar}"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Drag & Drop Card -->
            <Border Style="{StaticResource Card}">
                <StackPanel>
                    <TextBlock 
                        Text="📂 Arrastrar y Soltar" 
                        Style="{StaticResource SectionTitle}"/>
                    
                    <!-- Zona de Drag & Drop -->
                    <Grid x:Name="DropZone" Height="120" Margin="0,8,0,0">
                        <Rectangle 
                            Stroke="{StaticResource AccentBrush}" 
                            StrokeThickness="2" 
                            StrokeDashArray="8,4" 
                            RadiusX="12" 
                            RadiusY="12"
                            Fill="Transparent"/>
                        
                        <StackPanel 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center">
                            <TextBlock 
                                Text="📁" 
                                FontSize="32" 
                                HorizontalAlignment="Center" 
                                Foreground="{StaticResource AccentBrush}"/>
                            <TextBlock 
                                Text="Arrastra archivos aquí" 
                                FontSize="16" 
                                FontWeight="SemiBold"
                                HorizontalAlignment="Center" 
                                Foreground="{StaticResource OnSurfaceBrush}"/>
                            <TextBlock 
                                Text="Archivos .enc se desencriptan automáticamente" 
                                FontSize="12" 
                                HorizontalAlignment="Center" 
                                Foreground="{StaticResource AccentBrush}" 
                                Opacity="0.8"
                                TextWrapping="Wrap"
                                TextAlignment="Center"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Info Card -->
            <Border Style="{StaticResource Card}" Background="#FF1A2332">
                <StackPanel>
                    <TextBlock 
                        Text="💡 Información" 
                        Style="{StaticResource SectionTitle}"
                        Foreground="#FF60A5FA"/>
                    
                    <StackPanel>
                        <TextBlock 
                            Text="• Los archivos encriptados tendrán extensión .enc"
                            FontSize="13"
                            Foreground="#FFBFDBFE"
                            TextWrapping="Wrap"/>
                        <TextBlock 
                            Text="• Usa contraseñas seguras para mejor protección"
                            FontSize="13"
                            Foreground="#FFBFDBFE"
                            TextWrapping="Wrap"/>
                        <TextBlock 
                            Text="• Puedes arrastrar archivos directamente a la ventana"
                            FontSize="13"
                            Foreground="#FFBFDBFE"
                            TextWrapping="Wrap"/>
                    </StackPanel>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</Window>